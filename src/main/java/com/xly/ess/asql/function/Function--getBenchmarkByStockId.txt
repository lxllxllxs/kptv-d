DELIMITER $$

USE `xly`$$

DROP FUNCTION IF EXISTS `getBenchmarkByStockId`$$

CREATE DEFINER=`root`@`%` FUNCTION `getBenchmarkByStockId`(stockId INT) RETURNS DOUBLE
BEGIN
    DECLARE V_benchmark DOUBLE DEFAULT 0;
    SELECT BENCHMARK INTO V_benchmark FROM v_product WHERE ID= getPIdByStockId(stockId);
    RETURN V_benchmark;
	
    END$$

DELIMITER ;