DELIMITER $$

USE `xly`$$

DROP PROCEDURE IF EXISTS `delAndRevert`$$

CREATE DEFINER=`root`@`%` PROCEDURE `delAndRevert`(
IN recordId INT,
OUT result BOOLEAN
)
BEGIN
DECLARE  num INT DEFAULT 0;
DECLARE OPT_TYPE INT DEFAULT 0;
SELECT  STOCK,TYPE_ID INTO num,OPT_TYPE FROM xly_wh_record whr WHERE whr.ID=recordId;
    END$$

DELIMITER ;